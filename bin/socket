#!/usr/bin/env node

module.exports = function (http, options) {

    var io = new (require('ws')).Server(options || {server: http});

    // Method for sending data to all active customers
    io.sendAll = (data=Object, wss=io) => {
        for (const client of wss.clients) {
            client.send(data);
        }
    }

    return io;

}