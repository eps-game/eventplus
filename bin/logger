#!/usr/bin/env node

module.exports = function (options={}) {

    const winston = require('winston');

    const logger = winston.createLogger({
        level: 'info',
        format: winston.format.combine(
            winston.format.label({
                label: 'LOG'
            }),
            winston.format.timestamp(),
            winston.format.printf((info) => {
                return `${info.level.toUpperCase()} ${info.timestamp} [${info.sender}]: ${info.message} / ${JSON.stringify(info.data)}`;
            })
        ),
        transports: [
            new winston.transports.File({ filename: 'vm.log', level: 'vm' }),
            new winston.transports.File({ filename: 'logger.log' }),
        ],
    });

    return logger;

}